<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CodePoster - 代码展示工具</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/styles/atom-one-dark.min.css"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/highlight.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/javascript.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/java.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/css.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.7.0/languages/xml.min.js"></script>
    <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
    <link rel="stylesheet" href="css/style.css" />
  </head>
  <body>
    <div class="container">
      <header>
        <h1>CodePoster</h1>
        <p>一个简洁、美观的代码编辑器和展示工具</p>
      </header>

      <!-- 编辑器主体 -->
      <div class="editor-container" id="editor-container">
        <div class="line-numbers" id="line-numbers"></div>
        <div class="code-area">
          <div class="editor">
            <div class="editor-wrapper">
              <textarea id="code-input" spellcheck="false"></textarea>
              <div id="code-display"></div>
              <div class="recording-indicator" id="recording-indicator">
                <div class="dot"></div>
                <span>正在录制...</span>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 底部功能控制栏 -->
      <div class="bottom-control-panel" id="bottom-control-panel">
        <!-- 收起/展开按钮 -->
        <div class="panel-toggle" id="panel-toggle">
          <button class="toggle-btn" id="toggle-btn">▼</button>
        </div>
        
        <!-- 功能控制面板 -->
        <div class="control-panel-content">
          <div class="panel-row">
            <div class="control-group">
              <label for="language-select">语言:</label>
              <select id="language-select" class="control-input">
                <option value="javascript">JavaScript</option>
                <option value="python">Python</option>
                <option value="java">Java</option>
                <option value="html">HTML</option>
                <option value="css">CSS</option>
                <option value="plaintext">Plain Text</option>
              </select>
            </div>
            
            <div class="control-group">
              <label for="font-size-input">字体大小:</label>
              <input type="number" id="font-size-input" class="control-input" min="10" max="24" value="14">
            </div>
            
            <div class="control-group">
              <input type="checkbox" id="wrap-toggle">
              <label for="wrap-toggle">自动换行</label>
            </div>
            
            <div class="control-group">
              <label for="theme-select">主题:</label>
              <select id="theme-select" class="control-input">
                <option value="dark">深色</option>
                <option value="light">浅色</option>
              </select>
            </div>
          </div>
          
          <div class="panel-row">
            <div class="control-group">
              <button id="format-btn" class="btn">格式化代码</button>
              <button id="copy-btn" class="btn">复制代码</button>
              <button id="generate-image-btn" class="btn">生成图片</button>
              <button id="record-video-btn" class="btn">视频录制</button>
            </div>
          </div>
          
          <div class="panel-row">
            <div class="control-group">
              <label for="typing-speed">打字速度:</label>
              <input type="number" id="typing-speed" class="control-input" min="10" max="500" value="50">
              <span class="unit">ms</span>
            </div>
            
            <div class="control-group">
              <label for="editor-height">编辑器高度:</label>
              <input type="number" id="editor-height" class="control-input" min="0" max="1000" value="0">
              <span class="unit">px</span>
            </div>
          </div>
        </div>
      </div>

      <footer></footer>
    </div>

    <!-- 模态框 -->
    <div class="modal" id="image-modal">
      <div class="modal-content">
        <span class="close-modal" id="close-modal">&times;</span>
        <div class="image-container" id="image-container"></div>
        <div class="modal-footer">
          <button class="download-btn" id="download-btn">下载图片</button>
        </div>
      </div>
    </div>

    <!-- 视频预览模态框 -->
    <div class="modal video-modal" id="video-modal">
      <div class="modal-content">
        <span class="close-modal" id="close-video-modal">&times;</span>
        <div class="video-container" id="video-container"></div>
        <div class="modal-footer">
          <button class="download-btn" id="download-video-btn">下载视频</button>
        </div>
      </div>
    </div>

    <!-- 直接按顺序加载所有JS文件 -->
    <script src="js/core.js"></script>
    <script src="js/formatter.js"></script>
    <script src="js/editor.js"></script>
    <script src="js/theme.js"></script>
    <script src="js/editorUtils.js"></script>
    <script src="js/typingSimulator.js"></script>
    <script src="js/imageGenerator.js"></script>
    <script src="js/videoRecorder.js"></script>
  </body>
</html>
